<!DOCTYPE html>
<html>
<head>
    <title>Extension ID Test</title>
</head>
<body>
    <h1>Extension Communication Test</h1>
    <button id="testPing">Test PING</button>
    <button id="testScan">Test START_SCAN</button>
    <div id="result">Results will appear here...</div>

    <script>
        document.getElementById('testPing').addEventListener('click', function() {
            const extensionId = 'lldnikolaejjojgiabojpfhmpaafeige';
            console.log('Testing PING with extension ID:', extensionId);
            
            if (typeof window !== 'undefined' && window.chrome?.runtime) {
                window.chrome.runtime.sendMessage(extensionId, { action: 'PING' }, (response) => {
                    if (window.chrome?.runtime?.lastError) {
                        console.error('PING failed:', window.chrome.runtime.lastError);
                        document.getElementById('result').innerHTML = 'PING FAILED: ' + window.chrome.runtime.lastError.message;
                    } else {
                        console.log('PING success:', response);
                        document.getElementById('result').innerHTML = 'PING SUCCESS: ' + JSON.stringify(response, null, 2);
                    }
                });
            } else {
                document.getElementById('result').innerHTML = 'Chrome runtime not available';
            }
        });

        document.getElementById('testScan').addEventListener('click', function() {
            const extensionId = 'lldnikolaejjojgiabojpfhmpaafeige';
            console.log('Testing START_SCAN with extension ID:', extensionId);
            
            if (typeof window !== 'undefined' && window.chrome?.runtime) {
                window.chrome.runtime.sendMessage(extensionId, { action: 'START_SCAN' }, (response) => {
                    if (window.chrome?.runtime?.lastError) {
                        console.error('START_SCAN failed:', window.chrome.runtime.lastError);
                        document.getElementById('result').innerHTML = 'START_SCAN FAILED: ' + window.chrome.runtime.lastError.message;
                    } else {
                        console.log('START_SCAN success:', response);
                        document.getElementById('result').innerHTML = 'START_SCAN SUCCESS: ' + JSON.stringify(response, null, 2);
                    }
                });
            } else {
                document.getElementById('result').innerHTML = 'Chrome runtime not available';
            }
        });
    </script>
</body>
</html> 